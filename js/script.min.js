var writeUsOpen=document.querySelector(".js-button-write-us"),writeUs=document.querySelector(".write-us"),writeUsClose=writeUs.querySelector(".popup-close"),fieldUserName=writeUs.querySelector(".js-username"),fieldUserEmail=writeUs.querySelector(".js-email"),fieldUserEmailText=writeUs.querySelector(".write-us__input--textarea"),form=writeUs.querySelector("form"),mapOpen=document.querySelector(".info__map-container"),map=document.querySelector(".popup-map"),mapClose=map.querySelector(".popup-close"),storageUserName=localStorage.getItem("userName"),storageEmail=localStorage.getItem("userEmail");writeUsOpen.addEventListener("click",function(a){a.preventDefault(),writeUs.classList.add("show-popup"),storageUserName?(fieldUserName.value=storageUserName,storageEmail?(fieldUserEmail.value=storageEmail,fieldUserEmailText.focus()):fieldUserEmail.focus()):fieldUserName.focus()}),form.addEventListener("submit",function(a){fieldUserName.value&&fieldUserEmail.value?(localStorage.setItem("userName",fieldUserName.value),localStorage.setItem("userEmail",fieldUserEmail.value)):(a.preventDefault(),writeUs.classList.remove("popup-error"),writeUs.offsetWidth=writeUs.offsetWidth,writeUs.classList.add("popup-error"))}),writeUsClose.addEventListener("click",function(a){a.preventDefault(),writeUs.classList.remove("show-popup")}),mapOpen.addEventListener("click",function(a){a.preventDefault(),map.classList.add("show-popup")}),mapClose.addEventListener("click",function(a){a.preventDefault(),map.classList.remove("show-popup")}),window.addEventListener("keydown",function(a){27===a.keyCode&&(map.classList.contains("show-popup")&&map.classList.remove("show-popup"),writeUs.classList.contains("show-popup")&&writeUs.classList.remove("show-popup"))});
